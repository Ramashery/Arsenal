<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arsenal Garden - Сажаем сад на Арсенальной горе</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Segoe+UI&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- START: Loader Screen -->
    <div id="loader-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8f4e9; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 0.5s ease;">
        <div class="loader-spinner" style="border: 4px solid rgba(43, 61, 77, 0.2); border-top-color: #5b8c7d; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite;"></div>
        <p class="loader-text" style="margin-top: 1rem; color: #2b3d4d;">Загрузка сада...</p>
        <div id="loader-error" style="display: none; text-align: center; padding: 20px; color: #ef4444;">
            <h3>Ошибка загрузки</h3>
            <p>Не удалось получить данные для сайта. Пожалуйста, проверьте ваше интернет-соединение и попробуйте обновить страницу.</p>
        </div>
    </div>
    <style>@keyframes spin { to { transform: rotate(360deg); } }</style>
    <!-- END: Loader Screen -->

    <header id="header">
        <div class="container nav-container">
            <!-- START OF REDESIGN: Swapped text logo for an image logo -->
            <a href="#home" class="logo">
                <!-- NOTE: Please create a logo file at this path or update the src -->
                <img src="img/arsenal-garden-logo.svg" alt="Arsenal Garden Logo" style="height: 40px; display: block;">
            </a>
            <!-- END OF REDESIGN -->
            <div style="display: flex; align-items: center;">
                <nav>
                    <div class="nav-overlay" id="nav-overlay"></div>
                    <ul class="nav-menu" id="nav-menu">
                        <!-- Content generated by JS -->
                    </ul>
                </nav>
                <div class="language-switcher">
                    <button data-lang="ru" class="active">RU</button>
                    <button data-lang="en">EN</button>
                    <button data-lang="ge">GE</button>
                </div>
                <button class="hamburger" id="hamburger-btn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <section class="hero" id="home">
            <!-- START OF REDESIGN: New two-column layout for Hero content -->
            <div class="hero-content container">
                <div class="hero-text">
                    <h1 data-i18n-key="hero.title">Arsenal Garden</h1>
                    <p class="hero-subtitle" data-i18n-key="hero.subtitle">Сажаем сад на Арсенальной горе</p>
                </div>
                <div class="hero-countdown">
                    <p class="hero-date" data-i18n-key="hero.date">19 октября 2025 года, воскресенье</p>
                    <div id="countdown-timer" class="countdown">
                        <!-- JS will generate content here -->
                    </div>
                </div>
            </div>
            <!-- END OF REDESIGN -->
        </section>

        <section id="about" class="container">
            <div class="section-title fade-in">
                <h2 data-i18n-key="about.title">О проекте</h2>
            </div>
            <div id="about-content-wrapper" class="fade-in">
                <!-- Content generated by JS -->
            </div>
        </section>

        <section id="trees">
            <div class="trees-slider" id="trees-slider-wrapper">
                <!-- Slides generated by JS -->
            </div>
        </section>

        <section id="events" class="container">
            <div class="section-title fade-in"><h2 data-i18n-key="events.title">События</h2></div>
            <div class="events-timeline" id="events-timeline-wrapper">
                <!-- Events generated by JS -->
            </div>
        </section>

        <section id="help" class="section-dark">
            <div class="container">
                <div class="section-title fade-in">
                    <h2 data-i18n-key="help.title">Как помочь</h2>
                    <p data-i18n-key="help.intro" class="materials-intro">Arsenal Garden растёт благодаря людям. У каждого есть возможность стать частью этого сада — выбрать свой способ поддержки и вложить в него частичку себя.</p>
                </div>
                <div class="help-cards" id="help-cards-wrapper">
                    <!-- Cards are generated by JS -->
                </div>

                <div class="garden-map fade-in">
                    <h3 data-i18n-key="map.title">Интерактивная карта сада</h3>
                    <p data-i18n-key="map.desc">Подсвеченные деревья, когда на них собраны средства.</p>
                    <div class="progress-container">
                        <h4 id="map-goal-text">Цель: 55 деревьев</h4>
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill" style="width: 0%;"><span id="progress-text">0 / 55</span></div>
                        </div>
                    </div>
                    <div class="map-grid" id="map-grid">
                        <!-- Grid will be generated by JS -->
                    </div>
                     <p style="margin: 2rem auto 0; font-size: 0.9rem; text-align: left;" data-i18n-key="map.transparency">Для прозрачности мы ведём таблицу со всеми переводами. Так каждый может убедиться в том, что деньги учтены в общем сборе.</p>
                </div>
            </div>
        </section>

        <section id="materials" class="section-dark">
            <div class="container">
                <div class="section-title fade-in">
                    <h2 data-i18n-key="materials.title">Материалы</h2>
                    <p data-i18n-key="materials.intro" class="materials-intro">Мы собираем знания и вдохновение о городской экологии, урбанистике и искусстве.</p>
                </div>
                <div class="materials-accordion fade-in" id="materials-accordion-wrapper">
                    <!-- Accordion items are generated by JS -->
                </div>
            </div>
        </section>

        <section id="team" class="container">
            <div class="section-title fade-in"><h2 data-i18n-key="team.title">Команда</h2></div>
            <div class="team-grid" id="team-grid-wrapper">
                <!-- Team members generated by JS -->
            </div>
        </section>
        
        <section id="contacts" class="container">
            <div class="section-title fade-in"><h2 data-i18n-key="contacts.title">Контакты</h2></div>
            <div class="contact-grid">
                <div class="contact-info fade-in">
                    <h3 data-i18n-key="contacts.heading">Свяжитесь с нами</h3>
                    <p data-i18n-key="contacts.desc">Если у вас есть вопросы или предложения, напишите нам — мы всегда открыты к общению.</p>
                    <div class="social-links" id="social-links-wrapper">
                        <!-- Links generated by JS -->
                    </div>
                    <div style="margin-top: 2rem;">
                        <h4 data-i18n-key="contacts.locationName">Арсенальная гора</h4>
                        <p data-i18n-key="contacts.locationAddress">Тбилиси, Грузия</p>
                    </div>
                </div>
                <form id="feedback-form" class="fade-in">
                    <h3 data-i18n-key="contacts.form.title">Форма обратной связи</h3>
                    <div class="form-group">
                        <input type="text" id="name" class="form-control" required placeholder=" ">
                        <label for="name" data-i18n-key="contacts.form.name">Имя</label>
                    </div>
                    <div class="form-group">
                        <input type="email" id="email" class="form-control" required placeholder=" ">
                        <label for="email" data-i18n-key="contacts.form.email">Email</label>
                    </div>
                    <div class="form-group">
                        <textarea id="message" class="form-control" rows="5" required placeholder=" "></textarea>
                        <label for="message" data-i18n-key="contacts.form.message">Сообщение</label>
                    </div>
                    <button type="submit" class="btn" data-i18n-key="contacts.form.button">Отправить</button>
                </form>
            </div>
            <div class="map-container fade-in">
                <h3 data-i18n-key="contacts.mapLocation">Мы находимся здесь</h3>
                <iframe id="google-map-iframe" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2978.313530545299!2d44.8065597766691!3d41.7052150712621!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!0x40440cd79be5eab1%3A0xf9d168b4f8b52bd!2sArsenal%20Mountain!5e0!3m2!1sen!2sge" width="100%" height="400" style="border:0; border-radius: 10px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p id="footer-copyright" style="cursor: pointer;">Arsenal Garden © 2024</p>
            <p data-i18n-key="footer.motto">Сажаем сад на Арсенальной горе.</p>
        </div>
    </footer>

    <div class="modal-overlay" id="tree-modal">
        <div class="modal-content">
            <button class="modal-close" id="modal-close-btn">&times;</button>
            <img src="" alt="Tree Category" class="modal-img" id="modal-tree-img">
            <h3 id="modal-tree-name">Tree Category Name</h3>
            <p id="modal-tree-desc">Category description here.</p>
            <p id="modal-tree-funds">Собрано: 0 / 0 деревьев</p>
            <div class="modal-progress-bar">
                <div class="modal-progress-fill" id="modal-tree-progress"></div>
            </div>
        </div>
    </div>
    
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";
      
      const firebaseConfig = {
        apiKey: "AIzaSyBVtMjImUQ7KxdRITAoloTdUFhH2txovYQ",
        authDomain: "arsenal-garden.firebaseapp.com",
        projectId: "arsenal-garden",
        storageBucket: "arsenal-garden.firebasestorage.app",
        messagingSenderId: "617649648525",
        appId: "1:617649648525:web:978b3ce09d0d87e83643c4",
        measurementId: "G-CTVW6WRLM1"
      };

      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      
      window.firebaseApp = { app, analytics };
    </script>
    
    <script src="script.js"></script>

</body>
</html>